var app=angular.module("app");app.directive("fitScreen",function(){return{restrict:"A",link:function(n,e,i,t){$(e).height($(window).height())}}}),app.directive("wrapFit",function(){return{restrict:"A",link:function(n,e,i,t){window.wrapMod||(window.wrapMod={clickY:0,mainScroll:null,eventFlag:!1,init:function(){var n=this;n.setContMinHeight(),n.eventFlag||n.bindEvents()},setContMinHeight:function(){var n=this,e=$(window).height()-$("#J-header").outerHeight()-$("#J-footer").outerHeight();$("#J-sidebar, #J-container, #J-submenu-wrap").height(e),n.mainScroll&&n.mainScroll.refresh()},bindEvents:function(){$(document).on("click","#J-s-menu-cls-one div.J-item-cls-one-inner",function(n){var e=($(this),$("#J-sidebar"),$(this).parent());e.hasClass("active")?e.removeClass("active").find("ul.J-s-menu-cls-two").slideUp(100,function(){wrapMod.mainScroll&&wrapMod.mainScroll.refresh()}):e.addClass("active").find("ul.J-s-menu-cls-two").slideDown(100,function(){wrapMod.mainScroll&&wrapMod.mainScroll.refresh()}).end().siblings().removeClass("active").find("ul.J-s-menu-cls-two").hide()}).on("click","#J-submenu-wrap div.J-can-open",function(n){var e=$(this),i=function(){wrapMod.subScroll&&wrapMod.subScroll.refresh()};e.hasClass("active")?e.removeClass("active").next().slideUp(50,i):e.addClass("active").next().slideDown(50,i)}).on("click","#J-sidebar a, #J-submenu-wrap a",function(n){"_blank"!=n.target.target&&n.preventDefault()}).on("mousedown","#J-sidebar a, #J-submenu-wrap a",function(n){wrapMod.clickY=n.pageY}).on("mouseup","#J-sidebar a, #J-submenu-wrap a",function(n){if(Math.abs(wrapMod.clickY-n.pageY)<50){var e=$(this).data("href");location.href=e}}),$(window).on("resize",function(){wrapMod.setContMinHeight()}),wrapMod.eventFlag=!0}}),wrapMod.init()}}}),app.directive("setIScroll",function(){return{restrict:"A",link:function(n,e,i,t){n.$last&&(wrapMod.mainScroll=new iScroll("J-sidebar",{snap:"li",bounce:!1,bounceLock:!1,momentum:!0,hideScrollbar:!0,onBeforeScrollStart:function(n){n.preventDefault()}}))}}});