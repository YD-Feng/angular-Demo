var app=angular.module("app");app.controller("loginCtrl",["$scope","$location","$timeout","xhr",function(r,e,a,o){function s(e){r.errMsg=e,a.cancel(n),n=a(function(){r.errMsg=""},3e3)}var n=null;r.userName=H.Storage.get("userName")||"",r.password="",r.errMsg="",r.login=function(){return""==r.userName?void s("请输入用户名！"):""==r.password?void s("请输入密码！"):void o.ajax({method:"GET",url:"data/login.json",data:{userName:r.userName,password:r.password}}).success(function(a){1==a.code?(H.Storage.set("userName",r.userName),e.url("/platform/main")):s(a.msg)}).error(function(){H.alert("数据请求失败！")})}}]);