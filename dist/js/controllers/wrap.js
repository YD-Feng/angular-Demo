var app=angular.module("app");app.controller("wrapCtrl",["$scope","$location","xhr",function(e,n,t){function u(e){var n=[],t=function(e,n,u){$.each(n,function(a,o){"undefined"==typeof o.submenu&&(o.submenu=[]),o.parent_id==e&&(u.push(o),t(o.id,n,o.submenu))})};return t(0,e,n),n}e.userName="",e.isSupperUser=!1,e.identityCompetence="",e.menuList=[],e.logout=function(){n.url("/login")},t.ajax({method:"GET",url:"dist/data/login.json"}).success(function(a){1==a.code?(e.userName=a.data.userName,e.isSupperUser=a.data.isSupperUser,e.identityCompetence=a.data.identityCompetence,t.ajax({method:"GET",url:"dist/data/menu.json"}).success(function(n){1==n.code&&(e.menuList=u(n.data))})):n.url("/login")})}]);