var app=angular.module("app");app.controller("wrapCtrl",["$scope","$location","xhr",function(e,n,u){function t(e){var n=[],u=function(e,n,t){$.each(n,function(a,o){"undefined"==typeof o.submenu&&(o.submenu=[]),o.parent_id==e&&(t.push(o),u(o.id,n,o.submenu))})};return u(0,e,n),n}e.userName="",e.isSupperUser=!1,e.identityCompetence="",e.menuList=[],e.logout=function(){n.url("/login")},u.ajax({method:"GET",url:"data/login.json"}).success(function(a){1==a.code?(e.userName=a.data.userName,e.isSupperUser=a.data.isSupperUser,e.identityCompetence=a.data.identityCompetence,u.ajax({method:"GET",url:"data/menu.json"}).success(function(n){1==n.code&&(e.menuList=t(n.data))})):n.url("/login")})}]);